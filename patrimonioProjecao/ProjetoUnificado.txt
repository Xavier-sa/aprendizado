
================================================================================
ARQUIVO: app.py
================================================================================

# app.py
from flask import Flask, render_template, request, jsonify
import json
import traceback

app = Flask(__name__)

@app.route("/")
def index():
    try:
        return render_template("index.html")
    except Exception as e:
        return f"Erro ao carregar p√°gina inicial: {str(e)}", 500

@app.route("/calcular", methods=["POST"])
def calcular():
    try:
        # Receber dados com valores padr√£o e tratamento seguro
        renda = float(request.form.get("renda", 0).replace(',', '.')) if request.form.get("renda") else 0
        gastos = float(request.form.get("gastos", 0).replace(',', '.')) if request.form.get("gastos") else 0
        divida_total = float(request.form.get("divida_total", 0).replace(',', '.')) if request.form.get("divida_total") else 0
        parcela_divida = float(request.form.get("parcela_divida", 0).replace(',', '.')) if request.form.get("parcela_divida") else 0
        taxa_juros = float(request.form.get("taxa_juros", 0).replace(',', '.')) if request.form.get("taxa_juros") else 0
        
        print(f"üìä Dados recebidos: Renda={renda}, Gastos={gastos}, D√≠vida={divida_total}, Parcela={parcela_divida}, Juros={taxa_juros}")
        
        # Valida√ß√µes b√°sicas
        if renda <= 0:
            return render_template("erro.html", mensagem="Renda deve ser maior que zero")
        
        if any(valor < 0 for valor in [gastos, divida_total, parcela_divida, taxa_juros]):
            return render_template("erro.html", mensagem="Valores n√£o podem ser negativos")
        
        # C√°lculo da sobra mensal
        try:
            sobra_mensal = renda - gastos - parcela_divida
            if sobra_mensal < 0:
                return render_template("erro.html", 
                    mensagem=f"Seus gastos (R$ {gastos:.2f}) + parcela (R$ {parcela_divida:.2f}) = R$ {gastos + parcela_divida:.2f} excedem sua renda (R$ {renda:.2f})! Situa√ß√£o cr√≠tica.")
        except Exception as e:
            return render_template("erro.html", mensagem=f"Erro no c√°lculo da sobra: {str(e)}")
        
        # C√°lculo do tempo de quita√ß√£o
        try:
            if taxa_juros > 0 and parcela_divida > 0:
                taxa_mensal = taxa_juros / 100
                tempo_quitacao = calcular_tempo_com_juros(divida_total, parcela_divida, taxa_mensal)
            elif parcela_divida > 0:
                tempo_quitacao = divida_total / parcela_divida
            else:
                tempo_quitacao = 0
            
            tempo_quitacao = round(tempo_quitacao, 1)
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no c√°lculo do tempo: {e}")
            tempo_quitacao = 0
        
        # Proje√ß√£o de patrim√¥nio
        try:
            meses_projecao = 24
            meses_apos_quitacao = max(meses_projecao - tempo_quitacao, 0)
            poupanca_mensal = parcela_divida + sobra_mensal
            patrimonio_est = round(poupanca_mensal * meses_apos_quitacao, 2)
        except Exception as e:
            print(f"‚ö†Ô∏è Erro na proje√ß√£o: {e}")
            patrimonio_est = 0
        
        # Gera√ß√£o de gr√°ficos
        try:
            grafico_divida = gerar_grafico_quitacao(divida_total, parcela_divida, taxa_juros, int(min(tempo_quitacao, 60)) + 1)
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no gr√°fico d√≠vida: {e}")
            grafico_divida = {"labels": [], "valores": []}
        
        try:
            grafico_patrimonio = gerar_grafico_patrimonio(sobra_mensal, poupanca_mensal, int(tempo_quitacao), meses_projecao)
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no gr√°fico patrim√¥nio: {e}")
            grafico_patrimonio = {"labels": [], "valores": []}
        
        try:
            grafico_pizza = gerar_grafico_pizza(renda, gastos, parcela_divida, sobra_mensal)
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no gr√°fico pizza: {e}")
            grafico_pizza = {"labels": [], "valores": [], "cores": []}
        
        # Gera√ß√£o de alertas
        try:
            alertas = gerar_alertas(renda, gastos, parcela_divida, sobra_mensal, divida_total)
        except Exception as e:
            print(f"‚ö†Ô∏è Erro nos alertas: {e}")
            alertas = []
        
        # C√°lculo do comprometimento para o template
        try:
            comprometimento = ((gastos + parcela_divida) / renda) * 100
        except:
            comprometimento = 0
        
        print(f"‚úÖ C√°lculos conclu√≠dos: Sobra=R$ {sobra_mensal:.2f}, Tempo={tempo_quitacao} meses, Patrim√¥nio=R$ {patrimonio_est:.2f}")
        
        return render_template("resultado.html",
            renda=round(renda, 2),
            gastos=round(gastos, 2),
            divida_total=round(divida_total, 2),
            parcela_divida=round(parcela_divida, 2),
            taxa_juros=round(taxa_juros, 2),
            sobra=round(sobra_mensal, 2),
            tempo=tempo_quitacao,
            patrimonio=patrimonio_est,
            grafico_divida=json.dumps(grafico_divida),
            grafico_patrimonio=json.dumps(grafico_patrimonio),
            grafico_pizza=json.dumps(grafico_pizza),
            alertas=alertas,
            comprometimento=round(comprometimento, 1)
        )
        
    except ValueError as ve:
        print(f"‚ùå Erro de valor: {ve}")
        return render_template("erro.html", mensagem=f"Valor inv√°lido inserido: {str(ve)}")
    except Exception as e:
        print(f"‚ùå Erro inesperado: {e}")
        print(traceback.format_exc())
        return render_template("erro.html", mensagem=f"Erro inesperado ao processar: {str(e)}")

def calcular_tempo_com_juros(divida, parcela, taxa_mensal):
    """Calcula tempo de quita√ß√£o considerando juros compostos"""
    try:
        if taxa_mensal <= 0 or parcela <= 0 or divida <= 0:
            return 0
        
        meses = 0
        saldo = divida
        max_meses = 600  # Limite de 50 anos
        
        while saldo > 0 and meses < max_meses:
            juros = saldo * taxa_mensal
            amortizacao = parcela - juros
            
            if amortizacao <= 0:
                return 999  # Parcela insuficiente para pagar juros
            
            saldo -= amortizacao
            meses += 1
        
        return meses
        
    except Exception as e:
        print(f"‚ùå Erro no c√°lculo de juros: {e}")
        return 0

def gerar_grafico_quitacao(divida, parcela, taxa_juros, meses):
    """Gera dados para o gr√°fico de evolu√ß√£o da d√≠vida"""
    try:
        labels = []
        valores = []
        saldo = divida
        taxa_mensal = taxa_juros / 100
        
        for mes in range(min(meses, 60)):  # Limitar a 60 meses para visualiza√ß√£o
            labels.append(f"M√™s {mes+1}")
            valores.append(max(round(saldo, 2), 0))
            
            if saldo <= 0:
                break
            
            juros = saldo * taxa_mensal
            amortizacao = max(parcela - juros, 0)
            saldo -= amortizacao
        
        return {"labels": labels, "valores": valores}
        
    except Exception as e:
        print(f"‚ùå Erro no gr√°fico de quita√ß√£o: {e}")
        return {"labels": [], "valores": []}

def gerar_grafico_patrimonio(sobra, poupanca_futura, inicio_poupanca, total_meses):
    """Gera dados para proje√ß√£o de patrim√¥nio"""
    try:
        labels = []
        valores = []
        patrimonio = 0
        
        for mes in range(total_meses + 1):
            labels.append(f"M√™s {mes+1}")
            
            if mes < inicio_poupanca:
                patrimonio += sobra
            else:
                patrimonio += poupanca_futura
            
            valores.append(max(round(patrimonio, 2), 0))
        
        return {"labels": labels, "valores": valores}
        
    except Exception as e:
        print(f"‚ùå Erro no gr√°fico de patrim√¥nio: {e}")
        return {"labels": [], "valores": []}

def gerar_grafico_pizza(renda, gastos, parcela, sobra):
    """Gera dados para gr√°fico de distribui√ß√£o de renda"""
    try:
        # Garantir que valores n√£o sejam negativos e somem at√© a renda
        gastos = max(min(gastos, renda), 0)
        parcela = max(min(parcela, renda - gastos), 0)
        sobra = max(min(sobra, renda), 0)
        
        # Ajustar para que a soma seja igual √† renda
        total_atual = gastos + parcela + sobra
        if total_atual != renda and total_atual > 0:
            fator = renda / total_atual
            gastos = round(gastos * fator, 2)
            parcela = round(parcela * fator, 2)
            sobra = round(sobra * fator, 2)
        
        return {
            "labels": ["Gastos Fixos", "Parcela D√≠vida", "Sobra/Poupan√ßa"],
            "valores": [gastos, parcela, sobra],
            "cores": ["#e74c3c", "#f39c12", "#2ecc71"]
        }
        
    except Exception as e:
        print(f"‚ùå Erro no gr√°fico pizza: {e}")
        return {"labels": [], "valores": [], "cores": []}

def gerar_alertas(renda, gastos, parcela, sobra, divida):
    """Gera alertas e dicas personalizadas"""
    try:
        alertas = []
        
        if renda <= 0:
            return alertas
        
        # Percentual de comprometimento
        try:
            comprometimento = ((gastos + parcela) / renda) * 100
            
            if comprometimento > 70:
                alertas.append({
                    "tipo": "perigo",
                    "mensagem": f"üö® Alerta Cr√≠tico! {comprometimento:.1f}% da sua renda est√° comprometida. Risco financeiro muito alto!"
                })
            elif comprometimento > 50:
                alertas.append({
                    "tipo": "aviso",
                    "mensagem": f"‚ö†Ô∏è Aten√ß√£o: {comprometimento:.1f}% da renda comprometida. Considere reduzir gastos."
                })
            elif comprometimento <= 30:
                alertas.append({
                    "tipo": "sucesso", 
                    "mensagem": f"‚úÖ Excelente! Apenas {comprometimento:.1f}% da renda comprometida. Situa√ß√£o saud√°vel!"
                })
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no c√°lculo de comprometimento: {e}")
        
        # Capacidade de poupan√ßa
        try:
            if sobra < renda * 0.1:
                alertas.append({
                    "tipo": "aviso",
                    "mensagem": "üí∞ Sua capacidade de poupan√ßa √© baixa. Tente economizar pelo menos 10% da renda."
                })
            elif sobra >= renda * 0.2:
                alertas.append({
                    "tipo": "sucesso",
                    "mensagem": f"üéâ √ìtimo! Voc√™ consegue poupar R$ {sobra:.2f} ({(sobra/renda)*100:.1f}% da renda)."
                })
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no c√°lculo de poupan√ßa: {e}")
        
        # D√≠vida em rela√ß√£o √† renda
        try:
            if divida > renda * 12:
                alertas.append({
                    "tipo": "perigo",
                    "mensagem": f"üí≥ Crise! Sua d√≠vida (R$ {divida:.2f}) √© maior que 1 ano de renda. Priorize quita√ß√£o urgente!"
                })
            elif divida > renda * 6:
                alertas.append({
                    "tipo": "aviso", 
                    "mensagem": f"üìä Cuidado: Sua d√≠vida equivale a {divida/renda:.1f} meses de renda. Foque em reduzir."
                })
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no c√°lculo d√≠vida/renda: {e}")
        
        # Situa√ß√£o positiva
        try:
            if sobra > 0 and divida == 0:
                alertas.append({
                    "tipo": "sucesso",
                    "mensagem": "üéä Parab√©ns! Voc√™ est√° sem d√≠vidas e com sobra positiva. Invista seu dinheiro!"
                })
        except:
            pass
        
        return alertas
        
    except Exception as e:
        print(f"‚ùå Erro na gera√ß√£o de alertas: {e}")
        return []

@app.route("/api/simular", methods=["POST"])
def simular_api():
    """Endpoint para simula√ß√µes din√¢micas via AJAX"""
    try:
        data = request.get_json()
        if not data:
            return jsonify({"status": "error", "message": "Dados n√£o fornecidos"}), 400
        
        # Simula√ß√£o simples para demonstra√ß√£o
        renda = data.get('renda', 0)
        gastos = data.get('gastos', 0)
        
        if renda <= 0:
            return jsonify({"status": "error", "message": "Renda inv√°lida"}), 400
        
        sobra = renda - gastos
        comprometimento = (gastos / renda) * 100 if renda > 0 else 0
        
        return jsonify({
            "status": "success", 
            "sobra": sobra,
            "comprometimento": round(comprometimento, 1),
            "alerta": "alta" if comprometimento > 70 else "media" if comprometimento > 50 else "baixa"
        })
        
    except Exception as e:
        return jsonify({"status": "error", "message": str(e)}), 500

@app.errorhandler(404)
def pagina_nao_encontrada(e):
    return render_template("erro.html", mensagem="P√°gina n√£o encontrada"), 404

@app.errorhandler(500)
def erro_servidor(e):
    return render_template("erro.html", mensagem="Erro interno do servidor"), 500

if __name__ == "__main__":
    try:
        print("üöÄ Iniciando Servidor de Proje√ß√£o Financeira...")
        print("üìä Acesse: http://localhost:5000")
        app.run(debug=True, host='0.0.0.0', port=5000)
    except Exception as e:
        print(f"‚ùå Erro ao iniciar servidor: {e}")

================================================================================
ARQUIVO: docker-compose.yml
================================================================================

services:
  rota-app:
    build: .
    container_name: patrimonioProjecao

    # Estes dois permitem usar input()
    stdin_open: true
    tty: true

    # Isso garante que o Docker rode seu script como no terminal real
    command: ["python", "app.py"]

    # Permite reexecutar o container sempre que quiser
    restart: unless-stopped


================================================================================
ARQUIVO: Dockerfile
================================================================================

FROM python:3.10-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY app/ .
ENV PYTHONPATH=/app
CMD ["python", "main.py"]

================================================================================
ARQUIVO: juntos.md
================================================================================

app:from flask import Flask, render_template, request

app = Flask(__name__)

@app.route("/")
def index():
    return render_template("index.html")

@app.route("/calcular", methods=["POST"])
def calcular():
    renda = float(request.form["renda"])
    gastos = float(request.form["gastos"])
    divida_total = float(request.form["divida_total"])
    parcela_divida = float(request.form["parcela_divida"])

    sobra_mensal = renda - gastos - parcela_divida

    # Evita divis√£o por zero
    tempo_quitacao = round(divida_total / max(parcela_divida + sobra_mensal, 1), 1)

    # Proje√ß√£o de patrim√¥nio ap√≥s quitar d√≠vida (2 anos)
    meses_apos_quitacao = max(24 - tempo_quitacao, 0)
    poupanca_mensal = parcela_divida + sobra_mensal
    patrimonio_est = round(poupanca_mensal * meses_apos_quitacao, 2)

    return render_template("resultado.html",
                           sobra=sobra_mensal,
                           tempo=tempo_quitacao,
                           patrimonio=patrimonio_est)

if __name__ == "__main__":
    app.run(debug=True)
resultado:<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Resultado</title>
</head>
<body>
    <h1>Resultado da Proje√ß√£o</h1>
    <p><strong>Sobra mensal:</strong> R$ {{ sobra }}</p>
    <p><strong>Tempo estimado para quitar d√≠vidas:</strong> {{ tempo }} meses</p>
    <p><strong>Proje√ß√£o de patrim√¥nio em 2 anos:</strong> R$ {{ patrimonio }}</p>

    <a href="/">Voltar</a>
</body>
</html>
index:<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Proje√ß√£o Financeira</title>
</head>
<body>
    <h1>Proje√ß√£o Financeira</h1>
    <form action="/calcular" method="post">
        <label>Renda Mensal: R$</label>
        <input type="number" name="renda" step="0.01" required><br><br>

        <label>Gastos Mensais (fixos + vari√°veis): R$</label>
        <input type="number" name="gastos" step="0.01" required><br><br>

        <label>Total da D√≠vida Atual: R$</label>
        <input type="number" name="divida_total" step="0.01" required><br><br>

        <label>Parcela Mensal da D√≠vida: R$</label>
        <input type="number" name="parcela_divida" step="0.01" required><br><br>

        <input type="submit" value="Calcular">
    </form>
</body>
</html>


================================================================================
ARQUIVO: ProjetoUnificado.txt
================================================================================


================================================================================
ARQUIVO: app.py
================================================================================

# app.py
from flask import Flask, render_template, request, jsonify
import json
import traceback

app = Flask(__name__)

@app.route("/")
def index():
    try:
        return render_template("index.html")
    except Exception as e:
        return f"Erro ao carregar p√°gina inicial: {str(e)}", 500

@app.route("/calcular", methods=["POST"])
def calcular():
    try:
        # Receber dados com valores padr√£o e tratamento seguro
        renda = float(request.form.get("renda", 0).replace(',', '.')) if request.form.get("renda") else 0
        gastos = float(request.form.get("gastos", 0).replace(',', '.')) if request.form.get("gastos") else 0
        divida_total = float(request.form.get("divida_total", 0).replace(',', '.')) if request.form.get("divida_total") else 0
        parcela_divida = float(request.form.get("parcela_divida", 0).replace(',', '.')) if request.form.get("parcela_divida") else 0
        taxa_juros = float(request.form.get("taxa_juros", 0).replace(',', '.')) if request.form.get("taxa_juros") else 0
        
        print(f"üìä Dados recebidos: Renda={renda}, Gastos={gastos}, D√≠vida={divida_total}, Parcela={parcela_divida}, Juros={taxa_juros}")
        
        # Valida√ß√µes b√°sicas
        if renda <= 0:
            return render_template("erro.html", mensagem="Renda deve ser maior que zero")
        
        if any(valor < 0 for valor in [gastos, divida_total, parcela_divida, taxa_juros]):
            return render_template("erro.html", mensagem="Valores n√£o podem ser negativos")
        
        # C√°lculo da sobra mensal
        try:
            sobra_mensal = renda - gastos - parcela_divida
            if sobra_mensal < 0:
                return render_template("erro.html", 
                    mensagem=f"Seus gastos (R$ {gastos:.2f}) + parcela (R$ {parcela_divida:.2f}) = R$ {gastos + parcela_divida:.2f} excedem sua renda (R$ {renda:.2f})! Situa√ß√£o cr√≠tica.")
        except Exception as e:
            return render_template("erro.html", mensagem=f"Erro no c√°lculo da sobra: {str(e)}")
        
        # C√°lculo do tempo de quita√ß√£o
        try:
            if taxa_juros > 0 and parcela_divida > 0:
                taxa_mensal = taxa_juros / 100
                tempo_quitacao = calcular_tempo_com_juros(divida_total, parcela_divida, taxa_mensal)
            elif parcela_divida > 0:
                tempo_quitacao = divida_total / parcela_divida
            else:
                tempo_quitacao = 0
            
            tempo_quitacao = round(tempo_quitacao, 1)
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no c√°lculo do tempo: {e}")
            tempo_quitacao = 0
        
        # Proje√ß√£o de patrim√¥nio
        try:
            meses_projecao = 24
            meses_apos_quitacao = max(meses_projecao - tempo_quitacao, 0)
            poupanca_mensal = parcela_divida + sobra_mensal
            patrimonio_est = round(poupanca_mensal * meses_apos_quitacao, 2)
        except Exception as e:
            print(f"‚ö†Ô∏è Erro na proje√ß√£o: {e}")
            patrimonio_est = 0
        
        # Gera√ß√£o de gr√°ficos
        try:
            grafico_divida = gerar_grafico_quitacao(divida_total, parcela_divida, taxa_juros, int(min(tempo_quitacao, 60)) + 1)
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no gr√°fico d√≠vida: {e}")
            grafico_divida = {"labels": [], "valores": []}
        
        try:
            grafico_patrimonio = gerar_grafico_patrimonio(sobra_mensal, poupanca_mensal, int(tempo_quitacao), meses_projecao)
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no gr√°fico patrim√¥nio: {e}")
            grafico_patrimonio = {"labels": [], "valores": []}
        
        try:
            grafico_pizza = gerar_grafico_pizza(renda, gastos, parcela_divida, sobra_mensal)
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no gr√°fico pizza: {e}")
            grafico_pizza = {"labels": [], "valores": [], "cores": []}
        
        # Gera√ß√£o de alertas
        try:
            alertas = gerar_alertas(renda, gastos, parcela_divida, sobra_mensal, divida_total)
        except Exception as e:
            print(f"‚ö†Ô∏è Erro nos alertas: {e}")
            alertas = []
        
        # C√°lculo do comprometimento para o template
        try:
            comprometimento = ((gastos + parcela_divida) / renda) * 100
        except:
            comprometimento = 0
        
        print(f"‚úÖ C√°lculos conclu√≠dos: Sobra=R$ {sobra_mensal:.2f}, Tempo={tempo_quitacao} meses, Patrim√¥nio=R$ {patrimonio_est:.2f}")
        
        return render_template("resultado.html",
            renda=round(renda, 2),
            gastos=round(gastos, 2),
            divida_total=round(divida_total, 2),
            parcela_divida=round(parcela_divida, 2),
            taxa_juros=round(taxa_juros, 2),
            sobra=round(sobra_mensal, 2),
            tempo=tempo_quitacao,
            patrimonio=patrimonio_est,
            grafico_divida=json.dumps(grafico_divida),
            grafico_patrimonio=json.dumps(grafico_patrimonio),
            grafico_pizza=json.dumps(grafico_pizza),
            alertas=alertas,
            comprometimento=round(comprometimento, 1)
        )
        
    except ValueError as ve:
        print(f"‚ùå Erro de valor: {ve}")
        return render_template("erro.html", mensagem=f"Valor inv√°lido inserido: {str(ve)}")
    except Exception as e:
        print(f"‚ùå Erro inesperado: {e}")
        print(traceback.format_exc())
        return render_template("erro.html", mensagem=f"Erro inesperado ao processar: {str(e)}")

def calcular_tempo_com_juros(divida, parcela, taxa_mensal):
    """Calcula tempo de quita√ß√£o considerando juros compostos"""
    try:
        if taxa_mensal <= 0 or parcela <= 0 or divida <= 0:
            return 0
        
        meses = 0
        saldo = divida
        max_meses = 600  # Limite de 50 anos
        
        while saldo > 0 and meses < max_meses:
            juros = saldo * taxa_mensal
            amortizacao = parcela - juros
            
            if amortizacao <= 0:
                return 999  # Parcela insuficiente para pagar juros
            
            saldo -= amortizacao
            meses += 1
        
        return meses
        
    except Exception as e:
        print(f"‚ùå Erro no c√°lculo de juros: {e}")
        return 0

def gerar_grafico_quitacao(divida, parcela, taxa_juros, meses):
    """Gera dados para o gr√°fico de evolu√ß√£o da d√≠vida"""
    try:
        labels = []
        valores = []
        saldo = divida
        taxa_mensal = taxa_juros / 100
        
        for mes in range(min(meses, 60)):  # Limitar a 60 meses para visualiza√ß√£o
            labels.append(f"M√™s {mes+1}")
            valores.append(max(round(saldo, 2), 0))
            
            if saldo <= 0:
                break
            
            juros = saldo * taxa_mensal
            amortizacao = max(parcela - juros, 0)
            saldo -= amortizacao
        
        return {"labels": labels, "valores": valores}
        
    except Exception as e:
        print(f"‚ùå Erro no gr√°fico de quita√ß√£o: {e}")
        return {"labels": [], "valores": []}

def gerar_grafico_patrimonio(sobra, poupanca_futura, inicio_poupanca, total_meses):
    """Gera dados para proje√ß√£o de patrim√¥nio"""
    try:
        labels = []
        valores = []
        patrimonio = 0
        
        for mes in range(total_meses + 1):
            labels.append(f"M√™s {mes+1}")
            
            if mes < inicio_poupanca:
                patrimonio += sobra
            else:
                patrimonio += poupanca_futura
            
            valores.append(max(round(patrimonio, 2), 0))
        
        return {"labels": labels, "valores": valores}
        
    except Exception as e:
        print(f"‚ùå Erro no gr√°fico de patrim√¥nio: {e}")
        return {"labels": [], "valores": []}

def gerar_grafico_pizza(renda, gastos, parcela, sobra):
    """Gera dados para gr√°fico de distribui√ß√£o de renda"""
    try:
        # Garantir que valores n√£o sejam negativos e somem at√© a renda
        gastos = max(min(gastos, renda), 0)
        parcela = max(min(parcela, renda - gastos), 0)
        sobra = max(min(sobra, renda), 0)
        
        # Ajustar para que a soma seja igual √† renda
        total_atual = gastos + parcela + sobra
        if total_atual != renda and total_atual > 0:
            fator = renda / total_atual
            gastos = round(gastos * fator, 2)
            parcela = round(parcela * fator, 2)
            sobra = round(sobra * fator, 2)
        
        return {
            "labels": ["Gastos Fixos", "Parcela D√≠vida", "Sobra/Poupan√ßa"],
            "valores": [gastos, parcela, sobra],
            "cores": ["#e74c3c", "#f39c12", "#2ecc71"]
        }
        
    except Exception as e:
        print(f"‚ùå Erro no gr√°fico pizza: {e}")
        return {"labels": [], "valores": [], "cores": []}

def gerar_alertas(renda, gastos, parcela, sobra, divida):
    """Gera alertas e dicas personalizadas"""
    try:
        alertas = []
        
        if renda <= 0:
            return alertas
        
        # Percentual de comprometimento
        try:
            comprometimento = ((gastos + parcela) / renda) * 100
            
            if comprometimento > 70:
                alertas.append({
                    "tipo": "perigo",
                    "mensagem": f"üö® Alerta Cr√≠tico! {comprometimento:.1f}% da sua renda est√° comprometida. Risco financeiro muito alto!"
                })
            elif comprometimento > 50:
                alertas.append({
                    "tipo": "aviso",
                    "mensagem": f"‚ö†Ô∏è Aten√ß√£o: {comprometimento:.1f}% da renda comprometida. Considere reduzir gastos."
                })
            elif comprometimento <= 30:
                alertas.append({
                    "tipo": "sucesso", 
                    "mensagem": f"‚úÖ Excelente! Apenas {comprometimento:.1f}% da renda comprometida. Situa√ß√£o saud√°vel!"
                })
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no c√°lculo de comprometimento: {e}")
        
        # Capacidade de poupan√ßa
        try:
            if sobra < renda * 0.1:
                alertas.append({
                    "tipo": "aviso",
                    "mensagem": "üí∞ Sua capacidade de poupan√ßa √© baixa. Tente economizar pelo menos 10% da renda."
                })
            elif sobra >= renda * 0.2:
                alertas.append({
                    "tipo": "sucesso",
                    "mensagem": f"üéâ √ìtimo! Voc√™ consegue poupar R$ {sobra:.2f} ({(sobra/renda)*100:.1f}% da renda)."
                })
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no c√°lculo de poupan√ßa: {e}")
        
        # D√≠vida em rela√ß√£o √† renda
        try:
            if divida > renda * 12:
                alertas.append({
                    "tipo": "perigo",
                    "mensagem": f"üí≥ Crise! Sua d√≠vida (R$ {divida:.2f}) √© maior que 1 ano de renda. Priorize quita√ß√£o urgente!"
                })
            elif divida > renda * 6:
                alertas.append({
                    "tipo": "aviso", 
                    "mensagem": f"üìä Cuidado: Sua d√≠vida equivale a {divida/renda:.1f} meses de renda. Foque em reduzir."
                })
        except Exception as e:
            print(f"‚ö†Ô∏è Erro no c√°lculo d√≠vida/renda: {e}")
        
        # Situa√ß√£o positiva
        try:
            if sobra > 0 and divida == 0:
                alertas.append({
                    "tipo": "sucesso",
                    "mensagem": "üéä Parab√©ns! Voc√™ est√° sem d√≠vidas e com sobra positiva. Invista seu dinheiro!"
                })
        except:
            pass
        
        return alertas
        
    except Exception as e:
        print(f"‚ùå Erro na gera√ß√£o de alertas: {e}")
        return []

@app.route("/api/simular", methods=["POST"])
def simular_api():
    """Endpoint para simula√ß√µes din√¢micas via AJAX"""
    try:
        data = request.get_json()
        if not data:
            return jsonify({"status": "error", "message": "Dados n√£o fornecidos"}), 400
        
        # Simula√ß√£o simples para demonstra√ß√£o
        renda = data.get('renda', 0)
        gastos = data.get('gastos', 0)
        
        if renda <= 0:
            return jsonify({"status": "error", "message": "Renda inv√°lida"}), 400
        
        sobra = renda - gastos
        comprometimento = (gastos / renda) * 100 if renda > 0 else 0
        
        return jsonify({
            "status": "success", 
            "sobra": sobra,
            "comprometimento": round(comprometimento, 1),
            "alerta": "alta" if comprometimento > 70 else "media" if comprometimento > 50 else "baixa"
        })
        
    except Exception as e:
        return jsonify({"status": "error", "message": str(e)}), 500

@app.errorhandler(404)
def pagina_nao_encontrada(e):
    return render_template("erro.html", mensagem="P√°gina n√£o encontrada"), 404

@app.errorhandler(500)
def erro_servidor(e):
    return render_template("erro.html", mensagem="Erro interno do servidor"), 500

if __name__ == "__main__":
    try:
        print("üöÄ Iniciando Servidor de Proje√ß√£o Financeira...")
        print("üìä Acesse: http://localhost:5000")
        app.run(debug=True, host='0.0.0.0', port=5000)
    except Exception as e:
        print(f"‚ùå Erro ao iniciar servidor: {e}")


================================================================================
ARQUIVO: Readme.md
================================================================================

python app.py

================================================================================
ARQUIVO: templates\erro.html
================================================================================

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erro na Proje√ß√£o</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .erro-container {
            max-width: 600px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .erro-header {
            background: #e74c3c;
            color: white;
            padding: 30px;
            text-align: center;
        }

        .erro-icone {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        .erro-header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .erro-conteudo {
            padding: 40px;
            text-align: center;
        }

        .erro-mensagem {
            background: #fee;
            border: 2px solid #e74c3c;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            color: #721c24;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .dicas {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
            border-radius: 5px;
        }

        .dicas h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .dicas ul {
            margin-left: 20px;
            color: #856404;
        }

        .dicas li {
            margin: 8px 0;
        }

        .acoes {
            margin-top: 30px;
        }

        .btn {
            display: inline-block;
            padding: 12px 30px;
            margin: 10px 5px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-voltar {
            background: #3498db;
            color: white;
        }

        .btn-ajuda {
            background: #95a5a6;
            color: white;
        }
    </style>
</head>
<body>
    <div class="erro-container">
        <div class="erro-header">
            <div class="erro-icone">‚ö†Ô∏è</div>
            <h1>Ops! Algo deu errado</h1>
            <p>N√£o foi poss√≠vel processar sua solicita√ß√£o</p>
        </div>

        <div class="erro-conteudo">
            <div class="erro-mensagem">
                <strong>Erro:</strong> {{ mensagem }}
            </div>

            <div class="dicas">
                <h3>O que voc√™ pode fazer:</h3>
                <ul>
                    <li>Verifique se todos os valores foram preenchidos corretamente</li>
                    <li>Certifique-se de usar apenas n√∫meros positivos</li>
                    <li>Se seus gastos excedem a renda, revise seu or√ßamento</li>
                    <li>Verifique se a parcela √© suficiente para cobrir os juros</li>
                    <li>Tente novamente com valores mais realistas</li>
                </ul>
            </div>

            <div class="acoes">
                <a href="/" class="btn btn-voltar">Voltar e Tentar Novamente</a>
            </div>
        </div>
    </div>
</body>
</html>

================================================================================
ARQUIVO: templates\index.html
================================================================================

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proje√ß√£o Financeira Inteligente</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .form-grupo {
            margin-bottom: 25px;
        }

        .form-grupo label {
            display: block;
            color: #2c3e50;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .form-grupo input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-grupo input:focus {
            outline: none;
            border-color: #3498db;
        }

        .btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #3498db, #2ecc71);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .dica {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .info-box {
            background: #e8f5e9;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }

        .info-box h3 {
            color: #27ae60;
            margin-bottom: 10px;
        }

        .info-box ul {
            margin-left: 20px;
        }

        .info-box li {
            margin: 5px 0;
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí∞ Proje√ß√£o Financeira Inteligente</h1>
            <p>Planeje seu futuro financeiro com dados reais</p>
        </div>

        <div class="content">
            <form action="/calcular" method="post">
                <div class="form-grupo">
                    <label for="renda">üíµ Renda Mensal L√≠quida:</label>
                    <input type="number" id="renda" name="renda" step="0.01" min="0" required placeholder="R$ 3000.00">
                </div>

                <div class="form-grupo">
                    <label for="gastos">üè† Gastos Mensais Fixos e Vari√°veis:</label>
                    <input type="number" id="gastos" name="gastos" step="0.01" min="0" required placeholder="R$ 1500.00">
                </div>

                <div class="form-grupo">
                    <label for="divida_total">üí≥ Total da D√≠vida Atual:</label>
                    <input type="number" id="divida_total" name="divida_total" step="0.01" min="0" required placeholder="R$ 5000.00">
                </div>

                <div class="form-grupo">
                    <label for="parcela_divida">üìä Parcela Mensal da D√≠vida:</label>
                    <input type="number" id="parcela_divida" name="parcela_divida" step="0.01" min="0" required placeholder="R$ 500.00">
                </div>

                <div class="form-grupo">
                    <label for="taxa_juros">üìà Taxa de Juros Mensal (%):</label>
                    <input type="number" id="taxa_juros" name="taxa_juros" step="0.01" min="0" value="0" placeholder="0.00">
                </div>

                <div class="dica">
                    <strong>üí° Dica:</strong> Seja honesto com os valores! Quanto mais precisos os dados, melhor ser√° sua proje√ß√£o financeira.
                </div>

                <button type="submit" class="btn">Calcular Proje√ß√£o üöÄ</button>
            </form>

            <div class="info-box">
                <h3>O que esta ferramenta faz?</h3>
                <ul>
                    <li>Calcula quanto tempo levar√° para quitar suas d√≠vidas</li>
                    <li>Projeta seu patrim√¥nio futuro ap√≥s quitar d√≠vidas</li>
                    <li>Gera gr√°ficos visuais da evolu√ß√£o financeira</li>
                    <li>Fornece alertas e dicas personalizadas</li>
                    <li>Considera juros compostos nos c√°lculos</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Valida√ß√£o em tempo real
        document.querySelectorAll('input[type="number"]').forEach(input => {
            input.addEventListener('input', function() {
                if (this.value < 0) {
                    this.value = 0;
                }
            });
        });

        // Calcular e mostrar preview
        const form = document.querySelector('form');
        form.addEventListener('submit', function(e) {
            const renda = parseFloat(document.getElementById('renda').value);
            const gastos = parseFloat(document.getElementById('gastos').value);
            const parcela = parseFloat(document.getElementById('parcela_divida').value);

            if (gastos + parcela > renda) {
                if (!confirm('ATEN√á√ÉO: Seus gastos excedem sua renda! Isso indica uma situa√ß√£o financeira cr√≠tica. Deseja continuar mesmo assim?')) {
                    e.preventDefault();
                }
            }
        });
    </script>
</body>
</html>

================================================================================
ARQUIVO: templates\resultado.html
================================================================================

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultado da Proje√ß√£o Financeira</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .alertas {
            padding: 20px;
            background: #f8f9fa;
        }

        .alerta {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid;
        }

        .alerta-perigo {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        .alerta-aviso {
            background: #fff3cd;
            border-color: #ffc107;
            color: #856404;
        }

        .alerta-sucesso {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 30px;
        }

        .card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .card h3 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .card p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .card-verde {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        }

        .card-vermelho {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }

        .card-azul {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        }

        .graficos {
            padding: 30px;
        }

        .grafico-container {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .grafico-container h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
        }

        .resumo {
            padding: 30px;
            background: #f8f9fa;
        }

        .resumo-item {
            display: flex;
            justify-content: space-between;
            padding: 12px;
            margin: 8px 0;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }

        .resumo-item strong {
            color: #2c3e50;
        }

        .resumo-item span {
            color: #3498db;
            font-weight: 600;
        }

        .acoes {
            padding: 30px;
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
            transition: transform 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-voltar {
            background: #95a5a6;
            color: white;
        }

        .btn-imprimir {
            background: #3498db;
            color: white;
        }

        @media print {
            .acoes, .header { display: none; }
        }

        @media (max-width: 768px) {
            .cards {
                grid-template-columns: 1fr;
            }
            .acoes {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Resultado da Sua Proje√ß√£o Financeira</h1>
            <p>An√°lise detalhada com gr√°ficos e recomenda√ß√µes</p>
        </div>

        <!-- Alertas -->
        {% if alertas %}
        <div class="alertas">
            {% for alerta in alertas %}
            <div class="alerta alerta-{{ alerta.tipo }}">
                {{ alerta.mensagem }}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- Cards de Estat√≠sticas -->
        <div class="cards">
            <div class="card card-verde">
                <h3>R$ {{ sobra }}</h3>
                <p>Sobra Mensal</p>
            </div>
            <div class="card card-vermelho">
                <h3>{{ tempo }} meses</h3>
                <p>Tempo para Quitar D√≠vida</p>
            </div>
            <div class="card card-azul">
                <h3>R$ {{ patrimonio }}</h3>
                <p>Patrim√¥nio Projetado (24 meses)</p>
            </div>
        </div>

        <!-- Resumo Detalhado -->
        <div class="resumo">
            <h2 style="margin-bottom: 20px; color: #2c3e50;">Resumo dos Seus Dados</h2>
            <div class="resumo-item">
                <strong>Renda Mensal:</strong>
                <span>R$ {{ renda }}</span>
            </div>
            <div class="resumo-item">
                <strong>Gastos Mensais:</strong>
                <span>R$ {{ gastos }}</span>
            </div>
            <div class="resumo-item">
                <strong>Parcela da D√≠vida:</strong>
                <span>R$ {{ parcela_divida }}</span>
            </div>
            <div class="resumo-item">
                <strong>D√≠vida Total:</strong>
                <span>R$ {{ divida_total }}</span>
            </div>
            <div class="resumo-item">
                <strong>Taxa de Juros:</strong>
                <span>{{ taxa_juros }}% ao m√™s</span>
            </div>
            <div class="resumo-item">
                <strong>Comprometimento da Renda:</strong>
                <span>{{ "%.1f"|format(((gastos + parcela_divida) / renda * 100)) }}%</span>
            </div>
        </div>

        <!-- Gr√°ficos -->
        <div class="graficos">
            <!-- Gr√°fico de Distribui√ß√£o da Renda -->
            <div class="grafico-container">
                <h3>Distribui√ß√£o da Sua Renda Mensal</h3>
                <canvas id="graficoPizza"></canvas>
            </div>

            <!-- Gr√°fico de Evolu√ß√£o da D√≠vida -->
            <div class="grafico-container">
                <h3>Evolu√ß√£o da D√≠vida ao Longo do Tempo</h3>
                <canvas id="graficoDivida"></canvas>
            </div>

            <!-- Gr√°fico de Proje√ß√£o de Patrim√¥nio -->
            <div class="grafico-container">
                <h3>Proje√ß√£o de Crescimento do Patrim√¥nio</h3>
                <canvas id="graficoPatrimonio"></canvas>
            </div>
        </div>

        <!-- A√ß√µes -->
        <div class="acoes">
            <a href="/" class="btn btn-voltar">Nova Simula√ß√£o</a>
            <button onclick="window.print()" class="btn btn-imprimir">Imprimir Relat√≥rio</button>
        </div>
    </div>

    <script>
        // Dados dos gr√°ficos vindos do backend
        const dadosPizza = {{ grafico_pizza|safe }};
        const dadosDivida = {{ grafico_divida|safe }};
        const dadosPatrimonio = {{ grafico_patrimonio|safe }};

        // Gr√°fico de Pizza - Distribui√ß√£o da Renda
        const ctxPizza = document.getElementById('graficoPizza').getContext('2d');
        new Chart(ctxPizza, {
            type: 'pie',
            data: {
                labels: dadosPizza.labels,
                datasets: [{
                    data: dadosPizza.valores,
                    backgroundColor: dadosPizza.cores,
                    borderWidth: 2,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            font: { size: 14 },
                            padding: 15
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const label = context.label || '';
                                const value = context.parsed || 0;
                                const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                const percentage = ((value / total) * 100).toFixed(1);
                                return `${label}: R$ ${value.toFixed(2)} (${percentage}%)`;
                            }
                        }
                    }
                }
            }
        });

        // Gr√°fico de Linha - Evolu√ß√£o da D√≠vida
        const ctxDivida = document.getElementById('graficoDivida').getContext('2d');
        new Chart(ctxDivida, {
            type: 'line',
            data: {
                labels: dadosDivida.labels,
                datasets: [{
                    label: 'Saldo Devedor (R$)',
                    data: dadosDivida.valores,
                    borderColor: '#e74c3c',
                    backgroundColor: 'rgba(231, 76, 60, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 3,
                    pointHoverRadius: 5
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return 'D√≠vida: R$ ' + context.parsed.y.toFixed(2);
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return 'R$ ' + value.toLocaleString('pt-BR');
                            }
                        }
                    }
                }
            }
        });

        // Gr√°fico de √Årea - Proje√ß√£o de Patrim√¥nio
        const ctxPatrimonio = document.getElementById('graficoPatrimonio').getContext('2d');
        new Chart(ctxPatrimonio, {
            type: 'line',
            data: {
                labels: dadosPatrimonio.labels,
                datasets: [{
                    label: 'Patrim√¥nio Acumulado (R$)',
                    data: dadosPatrimonio.valores,
                    borderColor: '#2ecc71',
                    backgroundColor: 'rgba(46, 204, 113, 0.2)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 3,
                    pointHoverRadius: 5
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return 'Patrim√¥nio: R$ ' + context.parsed.y.toFixed(2);
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return 'R$ ' + value.toLocaleString('pt-BR');
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
